<!-- extends 'hazard/base.html'  -->
<!-- commented out because it doesn't show map when extended with navba -->
{% load staticfiles %}

{% block head %}
  <style>
    #map {
      height: 100%;
      width: 100%;
    }
  </style>
{% endblock %}

{% block content %}
  <!-- Page Content -->
  <div>

    <div id="map"></div>

  </div>
  <!-- Map View -->

  <script>
      var labels = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
      var labelIndex = 0;

      function initMap() {
          var uluru = {lat: 37.7739, lng: -122.4313};
          var map = new google.maps.Map(document.getElementById('map'), {
              zoom: 12,
              center: uluru
          });

          google.maps.event.addListener(map, 'click', function (event) {
              addMarker(event.latLng, map);
          });

          // Add a marker at the center of the map.
          addMarker(uluru, map);

          function addMarker(location, map) {
              var marker = new google.maps.Marker({
                  map: map,
                  draggable: true,
                  animation: google.maps.Animation.DROP,
                  position: location,
                  label: labels[labelIndex++ % labels.length],
              });
              marker.addListener('click', toggleBounce);
          }

          google.maps.event.addDomListener(window, 'load', initialize);
      }
  </script>
  <script async defer
          src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBZXrZ9XmAIYt4rCRY7k2a0-k3Ko8chRxc&callback=initMap">
  </script>
{% endblock %}