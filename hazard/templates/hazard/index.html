{% extends 'hazard/base.html' %}
{% load user_permissions %}
{% load static %}

<head>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-form-validator/2.3.26/jquery.form-validator.min.js"></script>
</head>

<!-- Index latest hazard reports -->
{% block title %}
{% endblock %}

{% block content %}
{% for message in messages %}
<div class="alert alert-danger">
    <a class="close" href="#" data-dismiss="alert">Ã—</a>
    {{ message }}
</div>
{% endfor %}


<div class="maintext"> 
    <div>

        <h1 style="text-align:center; margin:30px 0px;  z-index: 2; text-shadow: 0 1px 5px rgba(0,0,0,.3);"><span><i class="fas fa-tree"></i></span>Eco <span style="color:#10ac84;">Hazard</span></h1>
        <h5 style="text-align:center; ">Eco Hazard is an SFSU startup company <br> Our goal is to help clean up the environment through our web-based
            application.</h5>
    </div>

    
</div>
<div height="25vh" style="margin:30px 0px;">
    <h2 class="text-center">

        {% if request.user.is_authenticated %}
        <a href="{% url 'ecohazards:add-post' %}">
            <button class="btn  btn-lg " style="background:#10ac84;" type="button"><span style="position: static; color:white; font-weight:700;" >Report
                a Hazard</span></button></a>
        {% else %}
        <!-- If not logged in, show add post but redirect to login -->
        <a href="{% url 'ecohazards:register' %}">
            <button class="btn  btn-lg" style="background:#10ac84; "type="button"><span style="position: static; color:white; font-weight:700;">Report
                a Hazard</span></button></a>
        {% endif %}

    </h2>
</div>


<br>
<div style="max-width: 600px; margin:0 auto;">

    <form class="text-center" style="width: 100%" role="search" method="get" action="{% url 'ecohazards:search_results' %}">
        <!-- resized search bar style width -->
        <!--<input type="text" style="width: 80%;" class="text-center form-control" name="q" value="" placeholder="Enter Keyword or Zip Code">-->
        <!--<button type="submit" style="width: 10%;" class="btn btn-default">Search</button>-->
        <!--<input type="submit" class="btn btn-default" name="search" value="Go" style="width: 10%;" />-->

        <input type="submit" name="search" class="btn" value="Go" style="float: right;width: 10%; background-color: #10ac84; color:white;"  />
        <div style="overflow: hidden; padding-right: .5em;">
            <input type="text" class="text-center form-control" name="q" value="" placeholder="Enter Location or Zip Code"
                style="width: 100%;" />
        </div>

    </form>

</div>



<h2 style="text-align: center; margin-top:40px;">Latest Hazard reports</h2>
{% if list %}
<h5 style="text-align: center; margin:20px 0px;">Showing {{list.start_index}} - {{list.end_index}} of {{list.paginator.count}}</h5>
{% include 'hazard/list.html' %}
{% else %}
<h3 style="text-align: center;">There are no posts yet</h3>
{% endif %}

    


<script src="{% static 'js/hazard_report.js' %}"></script>

{% endblock %}



